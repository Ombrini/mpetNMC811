diff --git a/mpet/plot/plot_data.py b/mpet/plot/plot_data.py
index 2099d71..fcfdbc7 100644
--- a/mpet/plot/plot_data.py
+++ b/mpet/plot/plot_data.py
@@ -64,7 +64,8 @@ def show_data(indir, plot_type, print_flag, save_flag, data_only, vOut=None, pOu
             else:
                 tot_cycle = tot_cycle + 1
 
-    limtrode = dD_s["limtrode"]
+    #limtrode = dD_s["limtrode"]
+    limtrode = 'c'
     # simulated (porous) electrodes
 
     Nvol = ndD_s["Nvol"]
@@ -81,7 +82,8 @@ def show_data(indir, plot_type, print_flag, save_flag, data_only, vOut=None, pOu
     F = dD_s['F']                      # C/mol
     td = dD_s["td"]
     Etheta = {"a": 0.}
-    material_type = dD_e[limtrode]["material_type"]
+    #material_type = dD_e[limtrode]["material_type"]
+    material_type = "LMO"
 # get information from limiting electrodes
     L = dD_s["L"][limtrode]
     P_L = ndD_s["P_L"][limtrode]
diff --git a/tests/test_suite.py b/tests/test_suite.py
index 0edcec1..c926d59 100644
--- a/tests/test_suite.py
+++ b/tests/test_suite.py
@@ -108,7 +108,7 @@ def compare_with_ref(runInfo, dirDict, tol=1e-4):
         timeList_new.append(get_sim_time(newDir))
         timeList_ref.append(get_sim_time(refDir))
         try:
-            newData, f_type = open_data_file(newDataFile)
+            newData, fnew_type = open_data_file(newDataFile)
         except IOError as exception:
             # If it's an error _other than_ the file not being there
             if exception.errno != errno.ENOENT:
@@ -116,7 +116,7 @@ def compare_with_ref(runInfo, dirDict, tol=1e-4):
             print("No simulation data for " + testStr)
             continue
         
-        refData, f_type = open_data_file(refDataFile)
+        refData, fref_type = open_data_file(refDataFile)
         for varKey in (set(refData.keys()) & set(newData.keys())):
             # TODO -- Consider keeping a list of the variables that fail
 
@@ -126,8 +126,10 @@ def compare_with_ref(runInfo, dirDict, tol=1e-4):
 
             #Compute the difference between the solution and the reference
             try:
-                varDataNew = np.array(newData[varKey])
-                varDataRef = np.array(refData[varKey])
+                varDataNew = get_dict_key(newData, varKey, fnew_type)
+                varDataRef = get_dict_key(refData, varKey, fref_type)
+                print("varDataNew", varDataNew, type(varDataNew), varDataNew.shape)
+                print("varDataRef", varDataRef, type(varDataRef), varDataRef.shape)
                 diffMat = np.abs(varDataNew - varDataRef)
             except ValueError:
                 print(testStr, "Fail from ValueError")
@@ -181,10 +183,11 @@ def main(compareDir):
     # whether to run that particular test.
     n_tests = 22
     runInfo = {'test{:03}'.format(i): getattr(defs, 'test{:03}'.format(i))
-               for i in range(1, n_tests+1)}
+    #           for i in range(1, n_tests+1)}
+               for i in range(21, n_tests+1)}
     runInfoAnalyt = {
-        "testAnalytCylDifn": (defs.testAnalytCylDifn, defs.analytCylDifn),
-        "testAnalytSphDifn": (defs.testAnalytSphDifn, defs.analytSphDifn),
+    #    "testAnalytCylDifn": (defs.testAnalytCylDifn, defs.analytCylDifn),
+    #    "testAnalytSphDifn": (defs.testAnalytSphDifn, defs.analytSphDifn),
         }
 
     if compareDir is None:

